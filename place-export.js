flittoIdDictionary = [
  {
      "This is a spacer, so index matches lang_id": "",
  },
  {
      "lang_id": 1,
      "language": "Afrikaans",
      "lang_org": "Afrikaans",
      "lang_code": "af",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 2,
      "language": "Albanian",
      "lang_org": "gjuha shqipe",
      "lang_code": "sq",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 3,
      "language": "Arabic",
      "lang_org": "العربية",
      "lang_code": "ar",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "Y",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 4,
      "language": "Armenian",
      "lang_org": "Հայերեն",
      "lang_code": "hy",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 5,
      "language": "Azerbaijani",
      "lang_org": "azərbaycan dili",
      "lang_code": "az",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 6,
      "language": "Belarusian",
      "lang_org": "беларуская мова",
      "lang_code": "be",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 7,
      "language": "Bengali",
      "lang_org": "বাংলা",
      "lang_code": "bn",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 8,
      "language": "Bosnian",
      "lang_org": "bosanski jezik",
      "lang_code": "bs",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 9,
      "language": "Bulgarian",
      "lang_org": "български език",
      "lang_code": "bg",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 10,
      "language": "Catalan",
      "lang_org": "català, valencià",
      "lang_code": "ca",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 11,
      "language": "Chinese (Simplified)",
      "lang_org": "中文(简体)",
      "lang_code": "zh-CN",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "Y",
      "pro_tr": "Y",
      "pro_pf": "Y",
      "support_tr": "Y",
      "video_tr": "Y",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 12,
      "language": "Chinese (Traditional)",
      "lang_org": "中文(繁體)",
      "lang_code": "zh-TW",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "Y",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 13,
      "language": "Croatian",
      "lang_org": "hrvatski jezik",
      "lang_code": "hr",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 14,
      "language": "Czech",
      "lang_org": "Čeština",
      "lang_code": "cs",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 15,
      "language": "Danish",
      "lang_org": "dansk",
      "lang_code": "da",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 16,
      "language": "Dutch",
      "lang_org": "Nederlands",
      "lang_code": "nl",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 17,
      "language": "English",
      "lang_org": "English",
      "lang_code": "en",
      "crowd_tr": "Y",
      "default_yn": "Y",
      "discovery": "Y",
      "has_lang_set": "Y",
      "pro_tr": "Y",
      "pro_pf": "Y",
      "support_tr": "Y",
      "video_tr": "Y",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 18,
      "language": "Estonian",
      "lang_org": "eesti, eesti keel",
      "lang_code": "et",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 19,
      "language": "Finnish",
      "lang_org": "suomi",
      "lang_code": "fi",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 20,
      "language": "French",
      "lang_org": "Français",
      "lang_code": "fr",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "Y",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "Y",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 21,
      "language": "Georgian",
      "lang_org": "ქართული",
      "lang_code": "ka",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 22,
      "language": "German",
      "lang_org": "Deutsch",
      "lang_code": "de",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "Y",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 23,
      "language": "Greek",
      "lang_org": "ελληνικά",
      "lang_code": "el",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 24,
      "language": "Hebrew",
      "lang_org": "עברית",
      "lang_code": "he",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 25,
      "language": "Hindi",
      "lang_org": "हिन्दी, हिंदी",
      "lang_code": "hi",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 26,
      "language": "Hungarian",
      "lang_org": "magyar",
      "lang_code": "hu",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 27,
      "language": "Indonesian",
      "lang_org": "Bahasa Indonesia",
      "lang_code": "id",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "Y",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "Y",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 28,
      "language": "Icelandic",
      "lang_org": "Íslenska",
      "lang_code": "is",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 29,
      "language": "Italian",
      "lang_org": "Italiano",
      "lang_code": "it",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 30,
      "language": "Japanese",
      "lang_org": "日本語",
      "lang_code": "ja",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "Y",
      "pro_tr": "Y",
      "pro_pf": "Y",
      "support_tr": "Y",
      "video_tr": "Y",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 31,
      "language": "Kazakh",
      "lang_org": "қазақ тілі",
      "lang_code": "kk",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 32,
      "language": "Khmer",
      "lang_org": "ខ្មែរ, ខេមរភាសា, ភាសាខ្មែរ",
      "lang_code": "km",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 33,
      "language": "Korean",
      "lang_org": "한국어",
      "lang_code": "ko",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "Y",
      "pro_tr": "Y",
      "pro_pf": "Y",
      "support_tr": "Y",
      "video_tr": "Y",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 34,
      "language": "Lao",
      "lang_org": "ພາສາລາວ",
      "lang_code": "lo",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 35,
      "language": "Lithuanian",
      "lang_org": "lietuvių kalba",
      "lang_code": "lt",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 36,
      "language": "Latvian",
      "lang_org": "latviešu valoda",
      "lang_code": "lv",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 37,
      "language": "Macedonian",
      "lang_org": "македонски јазик",
      "lang_code": "mk",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 38,
      "language": "Malay",
      "lang_org": "Bahasa Melayu",
      "lang_code": "ms",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "Y",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 39,
      "language": "Maltese",
      "lang_org": "Malti",
      "lang_code": "mt",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 40,
      "language": "Mongolian",
      "lang_org": "монгол",
      "lang_code": "mn",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 41,
      "language": "Norwegian Bokmål",
      "lang_org": "Norsk bokmål",
      "lang_code": "nb",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 42,
      "language": "Punjabi",
      "lang_org": "ਪੰਜਾਬੀ, پنجابی‎",
      "lang_code": "pa",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 43,
      "language": "Persian",
      "lang_org": "فارسی",
      "lang_code": "fa",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 44,
      "language": "Polish",
      "lang_org": "Polski",
      "lang_code": "pl",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 45,
      "language": "Portuguese",
      "lang_org": "Português",
      "lang_code": "pt",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "Y",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 46,
      "language": "Romansh",
      "lang_org": "rumantsch grischun",
      "lang_code": "rm",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 47,
      "language": "Romanian",
      "lang_org": "limba română, limba moldovenească",
      "lang_code": "ro",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 48,
      "language": "Russian",
      "lang_org": "Русский язык",
      "lang_code": "ru",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "Y",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 49,
      "language": "Serbian",
      "lang_org": "српски језик",
      "lang_code": "sr",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 50,
      "language": "Slovak",
      "lang_org": "slovenčina, slovenský jazyk",
      "lang_code": "sk",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 51,
      "language": "Slovene",
      "lang_org": "slovenski jezik, slovenščina",
      "lang_code": "sl",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 52,
      "language": "Spanish",
      "lang_org": "Español",
      "lang_code": "es",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "Y",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "Y",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 53,
      "language": "Swedish",
      "lang_org": "Svenska",
      "lang_code": "sv",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 54,
      "language": "Tamil",
      "lang_org": "தமிழ்",
      "lang_code": "ta",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 55,
      "language": "Tajik",
      "lang_org": "тоҷикӣ, toğikī, تاجیکی‎",
      "lang_code": "tg",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 56,
      "language": "Thai",
      "lang_org": "ไทย",
      "lang_code": "th",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 57,
      "language": "Turkish",
      "lang_org": "Türkçe",
      "lang_code": "tr",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 58,
      "language": "Ukrainian",
      "lang_org": "українська мова",
      "lang_code": "uk",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 59,
      "language": "Urdu",
      "lang_org": "اردو",
      "lang_code": "ur",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "N",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 60,
      "language": "Uzbek",
      "lang_org": "O'zbek, Ўзбек, أۇزبېك‎",
      "lang_code": "uz",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 61,
      "language": "Vietnamese",
      "lang_org": "Tiếng Việt",
      "lang_code": "vi",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "Y",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 62,
      "language": "Tagalog",
      "lang_org": "Tagalog",
      "lang_code": "tl",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 63,
      "language": "Swahili",
      "lang_org": "Kiswahili",
      "lang_code": "sw",
      "crowd_tr": "Y",
      "default_yn": "N",
      "discovery": "Y",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "Y"
  },
  {
      "lang_id": 64,
      "language": "English(British)",
      "lang_org": "English(British)",
      "lang_code": "en-GB",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "N"
  },
  {
      "lang_id": 65,
      "language": "Spanish(Latin America)",
      "lang_org": "Español(Latinoamérica)",
      "lang_code": "es-MX",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "N"
  },
  {
      "lang_id": 66,
      "language": "Portuguese(Brazil)",
      "lang_org": "Português(Brasil)",
      "lang_code": "pt-BR",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  },
  {
      "lang_id": 67,
      "language": "French(Canada)",
      "lang_org": "français(canadien)",
      "lang_code": "fr-CA",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "N"
  },
  {
      "lang_id": 68,
      "language": "Burmese",
      "lang_org": "Burmese",
      "lang_code": "my-MM",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "Y",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "N",
      "native_lang": "N"
  },
  {
      "lang_id": 69,
      "language": "Chinese (Cantonese)",
      "lang_org": "中文(廣東話)",
      "lang_code": "yue",
      "crowd_tr": "N",
      "default_yn": "N",
      "discovery": "N",
      "has_lang_set": "N",
      "pro_tr": "N",
      "pro_pf": "N",
      "support_tr": "Y",
      "video_tr": "N",
      "support_arcade": "Y",
      "native_lang": "Y"
  }
];
USER_TOKEN = localStorage.getItem('access_token');
OPTIONS_FOR_GET = {
  method: 'GET',
  headers: { Authorization: 'Bearer ' + USER_TOKEN, 'content-type': 'application/json' }
};

/* lameify(); */

async function lameify() {

  let chosenPlaceId = prompt('Input place ID to make spreadsheet.');
  if (!chosenPlaceId) { return }
  
  /* # */ let spinner = appendSpinner();
  let validIds = await fetchValidPlaceIds();
  if (!validIds.some( id => id == chosenPlaceId)) { 
    closeSpinner(spinner);
    alert('Place ID is not valid'); 
    return 
  }
  

  /* # */ spinner.querySelector('p').textContent = 'Fetching place details...';
  let placeDetails = await fetchPlaceDetails(chosenPlaceId);


  /* Fetch items */
  let promises = [];
  let i = 0;
  for (let item of placeDetails.item) {
    i++;
    /* # */ spinner.querySelector('p').textContent = `Working on image ${i} / ${placeDetails.item.length}`;
    let promise = await fetchItem(item.item_id);
    promises.push(promise);
  }


  let pages = await Promise.all(promises).then(results => { return results } ).catch(error => console.log(`Error in promises ${error}`));
  let filteredPages = pages.map(p => {
    return {
      pageId: p.item_id,
      imageUrl: p.image_url,
     
      /*  
      1. If segment is empty, wrap in 2d array, as required by Google Sheets
      2. Filter out 삭제됨 items (status = 'D'), leaving only 사용 가능 (status = 'Y')
      3. Return only the values to be set in "id", "source language", and "content" columns
      4. Sort in ascending order by id
      */
      segments: (!p.item_org.length) ? [['']] : p.item_org.reduce((prev, seg) => {
            if (seg.status != 'Y') { return prev }
            return [...prev, [seg.item_org_id, flittoIdDictionary[seg.lang_id].language, seg.content]];
        }, new Array)
        .sort((a, b) => {
            return a[0] - b[0]
        }),

    }
  });

  /* # */ spinner.querySelector('p').textContent = 'Just a little longer...';
  /* Organize data */
  let spelledOutLangs = placeDetails.place_lang_pair.reduce((prev, curr) => { 
    return [...prev, flittoIdDictionary[curr.dst_lang_id].language]
  }, []);
  spelledOutLangs.sort();
  

  let data = {
    placeName: placeDetails.place_info.title,
    placeId: placeDetails.place_info.place_id,
    mainImageUrl: placeDetails.place_image[0].image_url,
    langs: spelledOutLangs,
    menuPages: filteredPages,
  };

  console.log(data);

  
  requestSheet(data);
  /* # */ spinner.querySelector('p').innerHTML = 'Making spreadsheet...<br>(It takes a while)';

  function requestSheet(data) {
    let DEPLOYMENT_URL = 'https://script.google.com/macros/s/AKfycbzNYdmTH9PlA9TrGQpuzSbI2RPcveeYlugoGJeZpIyPQmkwjftCAdFrGiuxOKeWCKzA/exec';

    let sData = JSON.stringify(data);
  
    let options = {
      method: 'POST',
      body: sData,
      headers: { 'Content-Type': 'text/plain;charset=utf-8' }
    };
  
    fetch(DEPLOYMENT_URL, options)
    .then(response => {
      if (!response.ok) { throw new Error(`Request failed with status ${response.status}`) }
      return response.text();
    })
    .then(responseAsText => {
      let url = `https://docs.google.com/spreadsheets/d/${responseAsText}`;

      spinner.innerHTML = `
      <div style="width: 100%; display: flex; justify-content: end;">
        <button onclick="closeSpinner(this)" style="border:0;background-color:transparent;">x</button>
      </div>
      <div style="flex-grow: 1; display: grid; place-items: center; margin-bottom: 1rem;">
      <a href="${url}" target="_blank" style="text-decoration:underline;">${data.placeId}. ${data.placeName}</a>
      </div>
      `

    })
    .catch(error => {
      console.log(error);
      closeSpinner(spinner);
      alert(error);
    });
  }




  async function fetchPlaceDetails(id) {
    let url = `https://a3-prod.flit.to:1443/v2/qr-place/places/${id}?place_id=${id}&_method=GET`;
    
    try {
      let response = await fetch(url, OPTIONS_FOR_GET);
      return await response.json();
    } 
    
    catch(err) {
      /* Catches errors both in fetch and response.json */
      closeSpinner(spinner);
      alert(err);
    }
  
  }

  async function fetchValidPlaceIds() {
    let url = 'https://a3-prod.flit.to:1443/v2/qr-place/places?status_list=Y,N,D&offset=0&limit=99999&_method=GET';
    
    try {
      let response = await fetch(url, OPTIONS_FOR_GET);
      let json = await response.json();
      let validIds = json.map(place => place.place_id);
      return validIds
    } 
    
    catch(err) {
      closeSpinner(spinner);
      console.log(err);
      alert('Something went wrong.');
    }
  
  }

  async function fetchItem(itemId) {
    let itemUrl = `https://a3-prod.flit.to:1443/v2/qr-place/items/${itemId}?_method=GET`;
    let response = await fetch(itemUrl, OPTIONS_FOR_GET);
    let json = await response.json();
    return json
  }

}





function appendSpinner() {
  /* Make container for all spinners */
  if (!document.getElementById('spinners-wrap')) { 
    let wrap = Object.assign(document.createElement('div'), {
      id: 'spinners-wrap',
      style: 'z-index: 3001; min-width: 200px; display: flex; flex-direction: column; gap: 5px; position: fixed; top: 5px; right: 5px; background-color: white; border: 5px solid lightgray; padding: 5px;">',
    });
    document.body.append(wrap);
  }

  /* Make each spinner */
  let spinner = Object.assign(document.createElement('div'), {
    classList: 'spinner',
    style: 'position: relative; display: flex; flex-direction:column; align-items:center; justify-content:center; background-color: whitesmoke; padding: 5px;',
    innerHTML: `
      <!-- https://loading.io/css/ -->
      <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
      <p style="text-align:center">Getting ready...</p>
    `,
  });
  document.getElementById('spinners-wrap').append(spinner);

  /* Animate spinner */
  if (document.getElementById('spinner-styleSheet')) { return spinner }

  let styleSheet = Object.assign(document.createElement('style'), {
  id: 'spinner-styleSheet',
  textContent: `
    /* https://loading.io/css/ */
    .lds-ring {
      display: inline-block;
      position: relative;
      width: 80px;
      height: 80px;
    }
    .lds-ring div {
      box-sizing: border-box;
      display: block;
      position: absolute;
      width: 64px;
      height: 64px;
      margin: 8px;
      border: 8px solid steelblue;
      border-radius: 50%;
      animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
      border-color: steelblue transparent transparent transparent;
    }
    .lds-ring div:nth-child(1) {
      animation-delay: -0.45s;
    }
    .lds-ring div:nth-child(2) {
      animation-delay: -0.3s;
    }
    .lds-ring div:nth-child(3) {
      animation-delay: -0.15s;
    }
    @keyframes lds-ring {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
  `,
  });
  document.head.appendChild(styleSheet);

  return spinner

}

function closeSpinner(element) {
    element.closest('.spinner').remove();
    const wrap = document.getElementById('spinners-wrap');
    if (wrap.childNodes.length == 0) {
        wrap.remove();
    }
}
